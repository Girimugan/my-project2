(("undefined"!==typeof self?self:this)["webpackJsonpthemeBundle"]=("undefined"!==typeof self?self:this)["webpackJsonpthemeBundle"]||[]).push([[9],{"1d00":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container bestSeller",style:t.containerStyle},[t.showShimmer?e("div",{staticClass:"shimmer best-seller-shimmer"}):t._e(),t.listOfProducts.length>0?e("div",{staticClass:"product-card"},[e("carousel",{staticClass:"LTDSlide",attrs:{items:t.listOfProducts,length:1}},[e("div",{staticClass:"fBlock"},[e("div",{staticClass:"image"},[e("img",{staticClass:"imgLogo",attrs:{src:t.logoLink,alt:t.altlogo}})]),e("div",{staticClass:"slot-text-fblock"},[e("div",{staticClass:"title-block"},[t.banner_title?e("h2",{staticClass:"title",style:t.titleStyle},[t._v(t._s(t.banner_title))]):t._e()]),e("div",{staticClass:"spacing"},[e("div",{staticClass:"spacing-s"})]),t.discount?e("div",{staticClass:"badge"},[e("div",{staticClass:"icon-badge"},[e("svg",{staticClass:"ic-rupee-coin",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M12 1.99976C10.0222 1.99976 8.08879 2.58625 6.4443 3.68506C4.79981 4.78387 3.51809 6.34566 2.76121 8.17292C2.00433 10.0002 1.8063 12.0108 2.19215 13.9507C2.578 15.8905 3.53041 17.6723 4.92894 19.0708C6.32746 20.4693 8.10929 21.4218 10.0491 21.8076C11.9889 22.1935 13.9996 21.9954 15.8268 21.2386C17.6541 20.4817 19.2159 19.1999 20.3147 17.5555C21.4135 15.911 22 13.9776 22 11.9998C22 10.6865 21.7413 9.38618 21.2388 8.17292C20.7363 6.95967 19.9997 5.85727 19.0711 4.92869C18.1425 4.0001 17.0401 3.26351 15.8268 2.76096C14.6136 2.25841 13.3132 1.99976 12 1.99976ZM16 9.99976C16.2652 9.99976 16.5196 10.1051 16.7071 10.2926C16.8946 10.4802 17 10.7345 17 10.9998C17 11.265 16.8946 11.5193 16.7071 11.7069C16.5196 11.8944 16.2652 11.9998 16 11.9998H14.86C14.6907 12.6438 14.3634 13.2353 13.9076 13.7208C13.4518 14.2062 12.8821 14.5702 12.25 14.7798L14.51 16.1398C14.6984 16.2516 14.8449 16.4221 14.9269 16.6253C15.009 16.8284 15.022 17.0529 14.9641 17.2642C14.9062 17.4755 14.7805 17.6619 14.6063 17.7948C14.4321 17.9277 14.2191 17.9997 14 17.9998C13.8205 17.9997 13.6444 17.9513 13.49 17.8598L8.49 14.8598C8.49 14.8598 8.43 14.7998 8.4 14.7798C8.34311 14.7411 8.29252 14.6938 8.25 14.6398L8.14 14.4898C8.10748 14.4325 8.08068 14.3722 8.06 14.3098C8.05434 14.2432 8.05434 14.1763 8.06 14.1098L8 13.9998C8 13.9998 8 13.9998 8 13.9298C7.99533 13.8665 7.99533 13.803 8 13.7398C8.01728 13.6744 8.04072 13.6107 8.07 13.5498C8.07 13.5498 8.07 13.5498 8.07 13.4898C8.07 13.4298 8.13 13.4298 8.15 13.3998C8.18869 13.3429 8.23591 13.2923 8.29 13.2498C8.33926 13.2075 8.3929 13.1706 8.45 13.1398L8.61 13.0598H8.82L9 12.9998H11C11.349 12.9976 11.6914 12.9042 11.9932 12.7288C12.2949 12.5534 12.5455 12.302 12.72 11.9998H8C7.73479 11.9998 7.48043 11.8944 7.2929 11.7069C7.10536 11.5193 7 11.265 7 10.9998C7 10.7345 7.10536 10.4802 7.2929 10.2926C7.48043 10.1051 7.73479 9.99976 8 9.99976H12.72C12.5455 9.69748 12.2949 9.44614 11.9932 9.27071C11.6914 9.09527 11.349 9.00186 11 8.99976H8C7.73479 8.99976 7.48043 8.8944 7.2929 8.70686C7.10536 8.51933 7 8.26497 7 7.99976C7 7.73454 7.10536 7.48019 7.2929 7.29265C7.48043 7.10511 7.73479 6.99976 8 6.99976H16C16.2652 6.99976 16.5196 7.10511 16.7071 7.29265C16.8946 7.48019 17 7.73454 17 7.99976C17 8.26497 16.8946 8.51933 16.7071 8.70686C16.5196 8.8944 16.2652 8.99976 16 8.99976H14.44C14.6265 9.3116 14.7679 9.64827 14.86 9.99976H16Z",fill:"#E9F7E9"}})]),e("div",{staticClass:"discount-text jm-body-xs",domProps:{innerHTML:t._s(t.discount)}})])]):t._e(),e("div",{staticClass:"spacing"},[e("div",{staticClass:"spacing-s"})]),e("div",{staticClass:"selling-text"},[e("div",{staticClass:"jm-body-xs",style:{color:t.sellingTextColor}},[t._v(t._s(t.sellingText))])])])]),t._l(t.listOfProducts,(function(s,i){return t.bestPriceFlag?e("div",{key:i,staticClass:"product-wrapper"},[e("mini-product-card",{attrs:{sectionName:t.banner_title,screenName:"Home Page",product:s,priceDetails:s.priceDetails,wishData:t.wishData,context:t.context,carouselclass:"carouselclass",carouselProductCard:"bgimg-carousel-product-card",webslideclass:"webaddTocartplusMinusClass",bestpricecoupon:t.shouldShowCoupon(s)?t.bestPriceCoupon:{}},on:{"default-toast-show":t.defaultToastShow}})],1):t._e()}))],2)],1):t._e()])},l=[],o=s("3687"),a=s("c04a"),n=s("a7ab"),r=s.n(n),c=(s("7b8d"),s("6a2c"),s("a54f")),d=s("1be1"),u=s("5920"),g=s("3946"),h=s("893a"),v=s("0163"),p={name:"bestSeller",components:{"mini-product-card":a["a"],carousel:u["a"],VueSlickCarousel:r.a,genericSubstitutes:c["a"]},mixins:[o["a"],h["a"],v["a"]],props:["settings"],data(){return{wishData:[],timer:null,banner_title:"",banner_color:"",sellingText:"",sellingTextColor:"",backgroundImageLink:"",banner_title_color:"",collection:"",desktopSettings:{dots:!1,infinite:!1,slidesToShow:6,slidesToScroll:1,swipeToSlide:!0},defaultSettings:{dots:!1,infinite:!1,slidesToShow:2,slidesToScroll:1,swipeToSlide:!0},listOfProducts:[],modalVisible:!1,bestPriceCoupon:{},bestPriceFlag:!1,showShimmer:!0,logoLink:"",altlogo:"",discount:"",sellingText:"",sellingTextColor:"",banner_title_color:"",banner_title:"",collection:"",priceDetailsMap:new Map}},async mounted(){console.log("best seller section called"),this.initializeData(),await this.fetchWishlist(),await this.fetchProducts(),this.listOfProducts.length>0&&(this.bestPriceCoupon=await this.getBestPriceCoupon(),this.bestPriceFlag=!0)},methods:{findItemBySlug(t,e){return t.find(t=>t.slug===e)||{}},async getPriceData(t){try{if(0===t.length)return t;const{updatedProducts:e,newIndex:s}=await this.fetchPricesForNewItems(t,0);return t=e,t}catch(e){return console.error("Error fetching price data:",e),this.showErrorToast("Error fetching product prices"),[]}},initializeData(){var t,e,s,i,l,o,a,n,r,c,d,u,g,h,v,p,C,b,f,_;this.logoLink=null===(t=this.settings.props)||void 0===t||null===(e=t.logo_link)||void 0===e?void 0:e.value,this.altlogo=null===(s=this.settings.props)||void 0===s||null===(i=s.alt_logo)||void 0===i?void 0:i.value,this.backgroundImageLink=null===(l=this.settings.props)||void 0===l||null===(o=l.image_background)||void 0===o?void 0:o.value,this.discount=null===(a=this.settings.props)||void 0===a||null===(n=a.discount)||void 0===n?void 0:n.value,this.sellingText=null===(r=this.settings.props)||void 0===r||null===(c=r.bestseller_text)||void 0===c?void 0:c.value,this.sellingTextColor=null===(d=this.settings.props)||void 0===d||null===(u=d.bestseller_text_color)||void 0===u?void 0:u.value,this.banner_title=null===(g=this.settings.props)||void 0===g||null===(h=g.bestseller_title)||void 0===h?void 0:h.value,this.banner_title_color=null===(v=this.settings.props)||void 0===v||null===(p=v.bestseller_title_color)||void 0===p?void 0:p.value,this.banner_color=null===(C=this.settings.props)||void 0===C||null===(b=C.background_color)||void 0===b?void 0:b.value,this.collection=null===(f=this.settings.props)||void 0===f||null===(_=f.collection)||void 0===_?void 0:_.value},async fetchWishlist(){var t,e,s,i;if(null===(t=FPI)||void 0===t||null===(e=t.state)||void 0===e||null===(s=e.user)||void 0===s||null===(i=s._data)||void 0===i?void 0:i.user){var l;const t=await this.$apiSDK.catalog.getFollowIds({collectionType:"products"});this.wishData=(null===t||void 0===t||null===(l=t.data)||void 0===l?void 0:l.products)||[]}},async fetchProducts(){try{g["a"].getItem(g["b"].USER_PINCODE);let{items:t}=await this.$apiSDK.catalog.getCollectionItemsBySlug({slug:this.collection});const e=JSON.parse(JSON.stringify(t)),s=e.filter(t=>{var e;return t.sellable&&(this.isDiagnostics(t)||"A"===(null===t||void 0===t||null===(e=t.attributes)||void 0===e?void 0:e.availabilitystatus))});this.listOfProducts=await this.getPriceData(s);const i=this.listOfProducts.map(t=>{var e,s,i;return this.isDiagnostics(t)?200===(null===t||void 0===t||null===(e=t.sellerDetails)||void 0===e?void 0:e.status)&&"success"===(null===t||void 0===t||null===(s=t.sellerDetails)||void 0===s?void 0:s.returnMessage)&&(null===t||void 0===t||null===(i=t.sellerDetails)||void 0===i?void 0:i.result.length)>0?t:null:t});this.listOfProducts=i,this.showShimmer=!1}catch(t){console.error("Error fetching products:",t),this.showErrorToast("Error fetching products"),this.showShimmer=!1}},isDiagnostics(t){var e,s;const i=null===t||void 0===t||null===(e=t.attributes)||void 0===e||null===(s=e.verticalspecification)||void 0===s?void 0:s.toLowerCase();return"diagnostics"===i||"lab tests"===i},shouldShowCoupon(t){var e,s;return!(null===t||void 0===t||null===(e=t.tags)||void 0===e?void 0:e.includes("No_Discount"))&&"Medicine"===(null===t||void 0===t||null===(s=t.attributes)||void 0===s?void 0:s.verticalspecification)},defaultToastShow(t,e){this["success"===e?"showSuccessToast":"showErrorToast"](t)}},computed:{containerStyle(){const t={};return this.backgroundImageLink&&(t["background-image"]=`url(${this.backgroundImageLink})`),this.banner_color&&(t["background"]=this.banner_color),t},titleStyle(){return{color:this.banner_title_color+" !important"}},isDesktop(){return!Object(d["l"])()}}},C=p,b=(s("3e02"),s("2877")),f=s("8d26"),_=Object(b["a"])(C,i,l,!1,null,"6518c6ee",null);"function"===typeof f["default"]&&Object(f["default"])(_);e["default"]=_.exports},3032:function(t,e,s){},"3e02":function(t,e,s){"use strict";s("3032")},"56fd":function(t,e){t.exports=function(t){t.options.__settings={name:"bestSeller",label:"Best Seller",props:[{type:"image_picker",id:"logo_link",label:"Gallery Image"},{type:"text",id:"alt_logo",default:"",label:"Alt Logo Image"},{type:"text",id:"bestseller_title",label:"Banner Title"},{type:"text",id:"bestseller_title_color",label:"Banner Title Color"},{type:"text",id:"background_color",label:"Background color"},{type:"image_picker",id:"image_background",label:"Background Gallery Image"},{type:"text",id:"discount",default:!1,label:"Discount Percentage"},{type:"text",id:"bestseller_text",label:"Selling Text"},{type:"text",id:"bestseller_text_color",label:"Selling Text Color"},{type:"text",id:"collection",default:"featured-products",label:"Collection Name"}]}}},"8d26":function(t,e,s){"use strict";var i=s("56fd"),l=s.n(i);e["default"]=l.a}}]);
//# sourceMappingURL=zWvzH8L93_themeBundle.umd.min.BestSellerSectionChunk.js.map